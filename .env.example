# --- Stripe Configuration ---
# Chave secreta da API do Stripe (Dashboard > Developers > API keys)
STRIPE_SECRET_KEY=sk_test_...

# Chave secreta do Webhook para validar eventos (Dashboard > Developers > Webhooks)
STRIPE_WEBHOOK_SECRET=whsec_...
# Se usar Stripe CLI e também um endpoint pelo Dashboard, informe ambos separados por vírgula:
# STRIPE_WEBHOOK_SECRET=whsec_cli_xxx,whsec_dashboard_yyy

# ID do preço da assinatura da plataforma (para monetização do SaaS)
PLATFORM_PRICE_ID=price_...

# Domínio da aplicação (usado para URLs de retorno do Stripe)
DOMAIN=http://localhost:4242
 
# Disponibiliza a página de documentação sem autenticação (1=sim, 0=não)
DOCS_PUBLIC=1

# --- Loja (Liberação Pós-Pagamento) ---
# Segredo HMAC para assinar eventos enviados à loja
PAYMENTS_EVENTS_SECRET=changeme-hmac-secret
# Caminho do endpoint de eventos na loja
PAYMENTS_EVENTS_PATH=/payments/events/
# Cabeçalho com a assinatura HMAC
PAYMENTS_EVENTS_HEADER=X_PAYMENTS_SIGNATURE

# --- Security (JWT) ---
# Chave secreta para assinar tokens JWT (use uma string longa e aleatória)
JWT_SECRET=change-me-to-a-secure-random-string

# Tempo de vida do Token de Acesso (em segundos) - Ex: 900 (15 min)
JWT_ACCESS_TTL_SECONDS=900

# Tempo de vida do Refresh Token (em segundos) - Ex: 604800 (7 dias)
JWT_REFRESH_TTL_SECONDS=604800

# --- Rate Limiting ---
# Limite padrão para rotas não específicas
RATE_LIMIT_DEFAULT=100/hour

# Limite para rotas de login/registro
RATE_LIMIT_LOGIN=10/minute

# Limite para criação de checkout/assinaturas
RATE_LIMIT_CHECKOUT=30/minute

# Limite para recebimento de webhooks
RATE_LIMIT_WEBHOOK=300/minute

# --- Database ---
# Opção 1: SQLite (Padrão para desenvolvimento)
# Se nada for configurado, usará sqlite:///app.db automaticamente.
# DATABASE_URL=sqlite:///app.db

# Opção 2: MySQL (Produção)
# DB_DIALECT=mysql
# MYSQL_HOST=localhost
# MYSQL_PORT=3306
# MYSQL_DB=integracao_stripe
# MYSQL_USER=root
# MYSQL_PASSWORD=secret

# Opção 3: URL de Conexão Explícita (Sobrescreve as anteriores)
# DATABASE_URL=mysql+pymysql://user:pass@host:port/dbname
